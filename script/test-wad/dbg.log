Expect Debugging is ON
Print all test output to screen
WARNING: No tool specified
Opening log files in /home/wilson/script/test-wad/log
Test Run By wilson on Thu Jun 18 10:21:15 2015
Native configuration is x86_64-unknown-linux-gnu

		===  tests ===

trap: setting up signal 15 ("SIGTERM")
setting trap for SIGTERM to terminated
trap: setting up signal 2 ("SIGINT")
setting trap for SIGINT to interrupted by user
trap: setting up signal 3 ("SIGQUIT")
setting trap for SIGQUIT to interrupted by user
dirlist is /usr/local/share/dejagnu/baseboards
pushing config for build, name is localhost
dirlist is /usr/local/share/dejagnu/baseboards
pushing config for host, name is localhost
Schedule of variations:
    unix

target is unix
Running target unix
dirlist is /usr/local/share/dejagnu/baseboards/localhost /usr/local/share/dejagnu/baseboards
Using /usr/local/share/dejagnu/baseboards/unix.exp as board description file for target.
Using /usr/local/share/dejagnu/config/unix.exp as generic interface file for target.
Using /home/wilson/script/test-wad/echo.test/config/unix.exp as tool-and-target-specific interface file.
pushing config for target, name is unix
Running /home/wilson/script/test-wad/echo.test/echo.test/echo.exp ...
PASS: box name
spawn echo Hello World
parent: waiting for sync byte
parent: telling child to go ahead
parent: now unsynchronized from child
spawn: returns {29957}

expect: does "" (spawn_id exp9) match glob pattern "Hello World"? no
Hello World

expect: does "Hello World\r\n" (spawn_id exp9) match glob pattern "Hello World"? yes
expect: set expect_out(0,string) "Hello World"
expect: set expect_out(spawn_id) "exp9"
expect: set expect_out(buffer) "Hello World"
PASS: Local Hello World
spawn telnet 192.168.1.99
parent: waiting for sync byte
parent: telling child to go ahead
parent: now unsynchronized from child
spawn: returns {29961}

expect: does "" (spawn_id exp10) match glob pattern "login:"? no
Trying 192.168.1.99...

expect: does "Trying 192.168.1.99...\r\r\n" (spawn_id exp10) match glob pattern "login:"? no
Connected to 192.168.1.99.
Escape character is '^]'.

expect: does "Trying 192.168.1.99...\r\r\nConnected to 192.168.1.99.\r\r\nEscape character is '^]'.\r\r\n" (spawn_id exp10) match glob pattern "login:"? no


expect: does "Trying 192.168.1.99...\r\r\nConnected to 192.168.1.99.\r\r\nEscape character is '^]'.\r\r\n\r\n" (spawn_id exp10) match glob pattern "login:"? no
VM64 login: 
expect: does "Trying 192.168.1.99...\r\r\nConnected to 192.168.1.99.\r\r\nEscape character is '^]'.\r\r\n\r\nVM64 login: " (spawn_id exp10) match glob pattern "login:"? yes
expect: set expect_out(0,string) "login:"
expect: set expect_out(spawn_id) "exp10"
expect: set expect_out(buffer) "Trying 192.168.1.99...\r\r\nConnected to 192.168.1.99.\r\r\nEscape character is '^]'.\r\r\n\r\nVM64 login:"
send: sending "admin\r" to { exp10 }

expect: does " " (spawn_id exp10) match glob pattern "Password:"? no
a
expect: does " a" (spawn_id exp10) match glob pattern "Password:"? no
dmin
Password: 
expect: does " admin\r\nPassword: " (spawn_id exp10) match glob pattern "Password:"? yes
expect: set expect_out(0,string) "Password:"
expect: set expect_out(spawn_id) "exp10"
expect: set expect_out(buffer) " admin\r\nPassword:"
send: sending "\r\r" to { exp10 }

expect: does " " (spawn_id exp10) match glob pattern "Welcome"? no


expect: does " \r\n" (spawn_id exp10) match glob pattern "Welcome"? no
No entry for terminal type "xterm-256color";
using dumb terminal settings.
Welcome !

VM64 # 
VM64 # 
expect: does " \r\nNo entry for terminal type "xterm-256color";\r\nusing dumb terminal settings.\r\nWelcome !\r\n\r\nVM64 # \r\r\nVM64 # " (spawn_id exp10) match glob pattern "Welcome"? yes
expect: set expect_out(0,string) "Welcome"
expect: set expect_out(spawn_id) "exp10"
expect: set expect_out(buffer) " \r\nNo entry for terminal type "xterm-256color";\r\nusing dumb terminal settings.\r\nWelcome"
Gate keeper glob pattern for '.*
([A-Za-z0-9_].*) #' is '*
* #'. Activating booster.

expect: does " !\r\n\r\nVM64 # \r\r\nVM64 # " (spawn_id exp10) match regular expression ".*\n([A-Za-z0-9_].*) #"? Gate "*\n* #"? gate=yes re=yes
expect: set expect_out(0,string) " !\r\n\r\nVM64 # \r\r\nVM64 #"
expect: set expect_out(1,string) "VM64"
expect: set expect_out(spawn_id) "exp10"
expect: set expect_out(buffer) " !\r\n\r\nVM64 # \r\r\nVM64 #"
send: sending "\r" to { exp10 }

expect: does " " (spawn_id exp10) match glob pattern " #"? no

expect: does " \r" (spawn_id exp10) match glob pattern " #"? no

VM64 # 
expect: does " \r\r\nVM64 # " (spawn_id exp10) match glob pattern " #"? yes
expect: set expect_out(0,string) " #"
expect: set expect_out(spawn_id) "exp10"
expect: set expect_out(buffer) " \r\r\nVM64 #"

expect: does " " (spawn_id exp10) match glob pattern "*"? yes
expect: set expect_out(0,string) " "
expect: set expect_out(spawn_id) "exp10"
expect: set expect_out(buffer) " "
send: sending "get system status\r" to { exp10 }
Gate keeper glob pattern for 'Version: (.*)
' is 'Version: *
'. Activating booster.

expect: does "" (spawn_id exp10) match regular expression "Version: (.*)\n"? Gate "Version: *\n"? gate=no
g
expect: does "g" (spawn_id exp10) match regular expression "Version: (.*)\n"? Gate "Version: *\n"? gate=no
et system status
Version: FortiCache-VM64 v3.0,build0001,150617 (Interim)
Virus-DB: 16.00560(2012-10-19 08:31)
Serial-Number: FCHVEV0000000000
License Status: Valid
Evaluation License Expires: Thu Jul  2 08:32:51 2015
VM Resources: 1 CPU(s)/1 allowed, 1000 MB RAM/1024 MB allowed, 1 Disk(s)/1 allowed
BIOS version: 00010019
Log hard disk: Need format
Hostname: VM64
Operation Mode: NAT
Current HA mode: standalone
Branch point: 001
Release Version Information: Interim
FortiCache x86-64: Yes
System time: Thu Jun 18 10:21:15 2015

VM64 # 
expect: does "get system status\r\r\nVersion: FortiCache-VM64 v3.0,build0001,150617 (Interim)\r\nVirus-DB: 16.00560(2012-10-19 08:31)\r\nSerial-Number: FCHVEV0000000000\r\nLicense Status: Valid\r\nEvaluation License Expires: Thu Jul  2 08:32:51 2015\r\nVM Resources: 1 CPU(s)/1 allowed, 1000 MB RAM/1024 MB allowed, 1 Disk(s)/1 allowed\r\nBIOS version: 00010019\r\nLog hard disk: Need format\r\nHostname: VM64\r\nOperation Mode: NAT\r\nCurrent HA mode: standalone\r\nBranch point: 001\r\nRelease Version Information: Interim\r\nFortiCache x86-64: Yes\r\nSystem time: Thu Jun 18 10:21:15 2015\r\n\r\nVM64 # " (spawn_id exp10) match regular expression "Version: (.*)\n"? Gate "Version: *\n"? gate=yes re=yes
expect: set expect_out(0,string) "Version: FortiCache-VM64 v3.0,build0001,150617 (Interim)\r\nVirus-DB: 16.00560(2012-10-19 08:31)\r\nSerial-Number: FCHVEV0000000000\r\nLicense Status: Valid\r\nEvaluation License Expires: Thu Jul  2 08:32:51 2015\r\nVM Resources: 1 CPU(s)/1 allowed, 1000 MB RAM/1024 MB allowed, 1 Disk(s)/1 allowed\r\nBIOS version: 00010019\r\nLog hard disk: Need format\r\nHostname: VM64\r\nOperation Mode: NAT\r\nCurrent HA mode: standalone\r\nBranch point: 001\r\nRelease Version Information: Interim\r\nFortiCache x86-64: Yes\r\nSystem time: Thu Jun 18 10:21:15 2015\r\n\r\n"
expect: set expect_out(1,string) "FortiCache-VM64 v3.0,build0001,150617 (Interim)\r\nVirus-DB: 16.00560(2012-10-19 08:31)\r\nSerial-Number: FCHVEV0000000000\r\nLicense Status: Valid\r\nEvaluation License Expires: Thu Jul  2 08:32:51 2015\r\nVM Resources: 1 CPU(s)/1 allowed, 1000 MB RAM/1024 MB allowed, 1 Disk(s)/1 allowed\r\nBIOS version: 00010019\r\nLog hard disk: Need format\r\nHostname: VM64\r\nOperation Mode: NAT\r\nCurrent HA mode: standalone\r\nBranch point: 001\r\nRelease Version Information: Interim\r\nFortiCache x86-64: Yes\r\nSystem time: Thu Jun 18 10:21:15 2015\r\n\r"
expect: set expect_out(spawn_id) "exp10"
expect: set expect_out(buffer) "get system status\r\r\nVersion: FortiCache-VM64 v3.0,build0001,150617 (Interim)\r\nVirus-DB: 16.00560(2012-10-19 08:31)\r\nSerial-Number: FCHVEV0000000000\r\nLicense Status: Valid\r\nEvaluation License Expires: Thu Jul  2 08:32:51 2015\r\nVM Resources: 1 CPU(s)/1 allowed, 1000 MB RAM/1024 MB allowed, 1 Disk(s)/1 allowed\r\nBIOS version: 00010019\r\nLog hard disk: Need format\r\nHostname: VM64\r\nOperation Mode: NAT\r\nCurrent HA mode: standalone\r\nBranch point: 001\r\nRelease Version Information: Interim\r\nFortiCache x86-64: Yes\r\nSystem time: Thu Jun 18 10:21:15 2015\r\n\r\n"
Gate keeper glob pattern for 'Virus-DB: (.*)
' is 'Virus-DB: *
'. Activating booster.

expect: does "VM64 # " (spawn_id exp10) match regular expression "Virus-DB: (.*)\n"? Gate "Virus-DB: *\n"? gate=no
expect: timed out
Gate keeper glob pattern for 'Log hard disk: (.*)
' is 'Log hard disk: *
'. Activating booster.

expect: does "VM64 # " (spawn_id exp10) match regular expression "Log hard disk: (.*)\n"? Gate "Log hard disk: *\n"? gate=no
expect: timed out
Gate keeper glob pattern for 'Hostname: (.*)
' is 'Hostname: *
'. Activating booster.

expect: does "VM64 # " (spawn_id exp10) match regular expression "Hostname: (.*)\n"? Gate "Hostname: *\n"? gate=no
expect: timed out
Gate keeper glob pattern for 'Operation Mode: (.*)
' is 'Operation Mode: *
'. Activating booster.

expect: does "VM64 # " (spawn_id exp10) match regular expression "Operation Mode: (.*)\n"? Gate "Operation Mode: *\n"? gate=no
expect: timed out
ERROR: tcl error sourcing /home/wilson/script/test-wad/echo.test/echo.test/echo.exp.
ERROR: wrong # args: should be "set varName ?newValue?"
    while executing
"set HOSTS($host,"Operation Mode") $expect_out(1,string)"
    (procedure "box_sys_status" line 19)
    invoked from within
"box_sys_status $host"
    (procedure "box_open" line 11)
    invoked from within
"box_open box"
    (file "/home/wilson/script/test-wad/echo.test/echo.test/echo.exp" line 18)
    invoked from within
"source /home/wilson/script/test-wad/echo.test/echo.test/echo.exp"
    ("uplevel" body line 1)
    invoked from within
"uplevel #0 source /home/wilson/script/test-wad/echo.test/echo.test/echo.exp"
    invoked from within
"catch "uplevel #0 source $test_file_name""
testcase /home/wilson/script/test-wad/echo.test/echo.test/echo.exp completed in 12 seconds

		===  Summary ===

# of expected passes		2
runtest completed at Thu Jun 18 10:21:27 2015
